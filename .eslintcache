[{"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/CardList.js":"1","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/Utils/CopyClip.js":"2","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ClipBoardModal.js":"3","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/index.js":"4","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/GraphqlClient.js":"5","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/AppHeader.js":"6","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/reportWebVitals.js":"7","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/App.js":"8","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Home.js":"9","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Login.js":"10","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/AppRouter.js":"11","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/GraphqlQueries.js":"12","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ClipCard.js":"13","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ProfileModal.js":"14","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/SettingsModal.js":"15","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/LoginRedirect.js":"16","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Loading.js":"17"},{"size":937,"mtime":1607778973890,"results":"18","hashOfConfig":"19"},{"size":1116,"mtime":1607778667460,"results":"20","hashOfConfig":"19"},{"size":3095,"mtime":1607779041740,"results":"21","hashOfConfig":"19"},{"size":437,"mtime":1607778844060,"results":"22","hashOfConfig":"19"},{"size":573,"mtime":1607777276600,"results":"23","hashOfConfig":"19"},{"size":4516,"mtime":1607869950250,"results":"24","hashOfConfig":"19"},{"size":362,"mtime":1606630090938,"results":"25","hashOfConfig":"19"},{"size":649,"mtime":1607778579280,"results":"26","hashOfConfig":"19"},{"size":1218,"mtime":1607868709060,"results":"27","hashOfConfig":"19"},{"size":3729,"mtime":1607778781170,"results":"28","hashOfConfig":"19"},{"size":840,"mtime":1607778608880,"results":"29","hashOfConfig":"19"},{"size":751,"mtime":1607409236080,"results":"30","hashOfConfig":"19"},{"size":6234,"mtime":1607870083480,"results":"31","hashOfConfig":"19"},{"size":2404,"mtime":1607871190640,"results":"32","hashOfConfig":"19"},{"size":1976,"mtime":1607869930890,"results":"33","hashOfConfig":"19"},{"size":1875,"mtime":1607778742210,"results":"34","hashOfConfig":"19"},{"size":3324,"mtime":1607610719600,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1fixph7",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/CardList.js",[],["72","73"],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/Utils/CopyClip.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ClipBoardModal.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/index.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/GraphqlClient.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/AppHeader.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/reportWebVitals.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/App.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Home.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Login.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/AppRouter.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/GraphqlQueries.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ClipCard.js",["74","75"],"import React, { useState } from \"react\";\nimport { Card, Typography, Input, Button, message, Popconfirm } from \"antd\";\nimport { Row, Col } from \"antd\";\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  CopyOutlined,\n  CloseOutlined,\n  SaveOutlined,\n} from \"@ant-design/icons\";\nimport { AES, enc } from \"crypto-js\";\nimport { useMutation } from \"@apollo/client\";\nimport { DELETE_CLIP, GET_MY_CLIPS, UPDATE_CLIP } from \"../GraphqlQueries\";\nimport { copyTextToClipboard } from \"../Utils/CopyClip\";\n\nconst decryptText = (text) => {\n  var bytes = AES.decrypt(text, \"SECRET_TOKEN\");\n  var originalText = bytes.toString(enc.Utf8);\n  return originalText;\n  // return text;\n};\nconst encryptText = (text) => {\n  return AES.encrypt(text, \"SECRET_TOKEN\").toString();\n};\n\nexport function ClipCard({ data, refetch }) {\n  const viewMode = localStorage.getItem(\"view\");\n  const { Paragraph, Text } = Typography;\n  const { TextArea } = Input;\n  const id = data.id;\n  const encryptedData = data.data;\n  const updated_date = new Date(data.updated_at);\n  const updated_at = `${updated_date.toDateString()} at ${updated_date.toLocaleTimeString(\n    \"en-US\"\n  )}`;\n  const [dataToDisplay, setDataToDisplay] = useState(encryptedData);\n  const [editable, setEditable] = useState(false);\n  const [saveButtonLoading, setsaveButtonLoading] = useState(false);\n  const [viewDecrypted, setViewDecrypted] = useState(true);\n  const [deleteButtonLoading, setdeleteButtonLoading] = useState(false);\n\n  const [deleteClip] = useMutation(DELETE_CLIP, {\n    update(cache, { data }) {\n      const newClipFromResponse = data?.deleteClip.clip;\n      cache.evict({\n        id: \"ROOT_QUERY\",\n        fieldName: \"clip\",\n        id: newClipFromResponse.id,\n      });\n      refetch();\n      message.success(\"Clip deleted!\");\n      setdeleteButtonLoading(false);\n    },\n  });\n  const [updateClip] = useMutation(UPDATE_CLIP, {\n    update(cache, { data }) {\n      const newClipFromResponse = data?.updateClip.clip;\n      const existingClips = cache.readQuery({\n        query: GET_MY_CLIPS,\n      });\n      if (existingClips && newClipFromResponse) {\n        var newClips = existingClips?.clips.filter(function (item) {\n          return item.id !== newClipFromResponse.id;\n        });\n\n        cache.writeQuery({\n          query: GET_MY_CLIPS,\n          data: {\n            clips: [...newClips, newClipFromResponse],\n          },\n        });\n        message.success(\"Clip updated!\");\n        refetch();\n        setsaveButtonLoading(false);\n        setEditable(false);\n      }\n    },\n  });\n\n  const handleClick = (e) => {};\n  const copySuccess = () => {\n    message.success(\"Copied to Clipboard!\", 1);\n  };\n\n  const copyError = () => {\n    message.error(\"Unable to Copy, Please check Clipboard permissions\", 1);\n  };\n  const handleMouseOver = (e) => {\n    if (!editable) {\n      setViewDecrypted(true);\n      setDataToDisplay(decryptText(encryptedData));\n    }\n  };\n  const handleMouseOut = (e) => {\n    if (!editable) {\n      setViewDecrypted(false);\n      setDataToDisplay(encryptedData);\n    }\n  };\n  const onTextAreaValueChange = ({ target: { value } }) => {\n    setDataToDisplay(value);\n  };\n  return (\n    <Card\n      onClick={handleClick}\n      onMouseOver={handleMouseOver}\n      onMouseOut={handleMouseOut}\n      hoverable\n      bordered={false}\n      style={{ margin: \"0px\" }}\n    >\n      {/* <Card */}\n      {/*   onClick={handleClick} */}\n      {/*   hoverable */}\n      {/*   bordered={false} */}\n      {/*   style={{ margin: \"0px\" }} */}\n      {/* > */}\n      {editable ? (\n        <TextArea\n          allowClear\n          value={dataToDisplay}\n          bordered={false}\n          autoSize={{ minRows: 1, maxRows: 15 }}\n          onChange={onTextAreaValueChange}\n        />\n      ) : (\n        // <TextArea  allowClear onChange={onChange} />\n        <Paragraph>\n          {viewMode === \"viewDecrypt\" ? decryptText(data.data) : dataToDisplay}\n        </Paragraph>\n      )}\n\n      <Row justify=\"center\">\n        <Col>\n          <Button\n            type=\"primary\"\n            shape=\"circle\"\n            icon={<CopyOutlined />}\n            onClick={(e) => {\n              copyTextToClipboard(\n                decryptText(encryptedData),\n                copySuccess,\n                copyError\n              );\n            }}\n          />\n        </Col>\n\n        {editable ? (\n          <>\n            <Col>\n              <Button\n                type=\"default\"\n                shape=\"circle\"\n                icon={<SaveOutlined />}\n                loading={saveButtonLoading}\n                onClick={(e) => {\n                  setsaveButtonLoading(true);\n                  updateClip({\n                    variables: { id: id, data: encryptText(dataToDisplay) },\n                  });\n                  refetch();\n                }}\n              />\n            </Col>\n            <Col>\n              <Button\n                type=\"default\"\n                shape=\"circle\"\n                icon={<CloseOutlined />}\n                onClick={(e) => {\n                  setDataToDisplay(decryptText(encryptedData));\n                  setEditable(!editable);\n                }}\n              />\n            </Col>\n          </>\n        ) : (\n          <Col>\n            <Button\n              type=\"default\"\n              shape=\"circle\"\n              icon={<EditOutlined />}\n              onClick={(e) => {\n                setEditable(!editable);\n              }}\n            />\n          </Col>\n        )}\n\n        <Col span={4}>\n          <Popconfirm\n            title=\"Are you sure to delete this Clip?\"\n            onConfirm={(e) => {\n              setdeleteButtonLoading(true);\n              deleteClip({ variables: { id: id } });\n              refetch();\n            }}\n            onCancel={(e) => {\n              message.warning(\"Deletion aborted!\");\n            }}\n            okText=\"Yes\"\n            cancelText=\"No\"\n          >\n            <Button\n              type=\"danger\"\n              shape=\"circle\"\n              loading={deleteButtonLoading}\n              icon={<DeleteOutlined />}\n            />\n          </Popconfirm>\n        </Col>\n      </Row>\n      <Text type=\"secondary\" style={{ fontSize: 10 }}>\n        Last Updated: {updated_at}\n      </Text>\n    </Card>\n  );\n}\n","/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/ProfileModal.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/components/SettingsModal.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/LoginRedirect.js",[],"/home/rv/lab/project-Enclipy/frontend/enclipy-react-app/src/views/Loading.js",[],{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","severity":1,"message":"81","line":39,"column":10,"nodeType":"82","messageId":"83","endLine":39,"endColumn":23},{"ruleId":"84","severity":1,"message":"85","line":48,"column":9,"nodeType":"86","messageId":"87","endLine":48,"endColumn":11},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"no-unused-vars","'viewDecrypted' is assigned a value but never used.","Identifier","unusedVar","no-dupe-keys","Duplicate key 'id'.","ObjectExpression","unexpected","no-global-assign","no-unsafe-negation"]